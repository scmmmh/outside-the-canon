{% extends 'base.html' %}

{% block title %}{{ page.title }}{% endblock title %}

{% block content %}
<main>
  <div class="grid-x grid-padding-x">
    <div class="cell small-12">
      <h1>{{ page.title }}</h1>
    </div>
  </div>
  <div class="grid-x grid-padding-x">
    <div class="cell small-12 medium-8 large-7">
      <section>{{ page.content }}</section>
      {% if page.works %}
        <section>
          <h2>Works</h2>
        </section>
      {% endif %}
      {% if page.links %}
        <section>
          <h2>Links</h2>
          <ul class="no-bullet grid-x grid-padding-x">
          {% for label, field in PERSON_LINK_CATEGORIES %}
            {% if page.links[field] %}
              <li class="cell small-6 medium-4 large-3">
                <span class="sc">{{ label }}</span>
                <ul class="no-bullet">
                  {% for key, value in page.links[field].items() %}
                    {% if value %}
                      <li><a href="{{ value.url }}" title="{% if 'timestamp' in value %}{{key}} accessed on {{ value.timestamp }}{% endif %}" target="_blank" rel="noopener">
                        <svg viewBox="0 0 24 24" class="icon small">
                          <path d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z" />
                        </svg>
                        {% if 'label' in value %}{{ value.label }}{% else %}{{ key }}{% endif %}</a>
                      </li>
                    {% endif %}
                  {% endfor %}
                </ul>
              </li>
            {% endif %}
          {% endfor %}
          </ul>
        </section>
      {% endif %}
    </div>
    <aside class="cell small-12 medium-4 large-5">
      <div class="grid-x grid-padding-x">
        <div class="cell small-12">
          <h2>About</h2>
        </div>
        {% for label, field in PERSON_METADATA %}
          {% if page[field] and page[field] %}
            <section class="cell small-12 large-6">
              <h3>{{ label }}</h3>
              <ul class="no-bullet">
                {% for value in page[field] %}
                  <li>{{ value }}</li>
                {% endfor %}
              </ul>
            </section>
          {% endif %}
        {% endfor %}
      </div>
    </aside>
  </div>
</main>
{% endblock content %}
