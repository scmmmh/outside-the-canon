{% extends 'base.html' %}

{% block title %}{{ page.title }}{% endblock title %}

{% block content %}
{% import 'macros.html' as macros %}
<main class="person">
  <div class="grid-x grid-padding-x">
    <div class="cell auto">
      <h1>{{ page.title }}</h1>
    </div>
  </div>
  <div class="grid-x grid-padding-x">
    <div class="cell small-12 medium-7 large-6">
      <section>{{ page.content }}</section>
      <section class="digitised-works">
        <h2>{% trans %}Digitised Works{% endtrans %}</h2>
        <ul class="no-bullet">
          {% for category, works in page.work|selectattr('copies')|groupby(attribute='category') %}
            <li><h3>{{ category }}</h3>
              <ol class="no-bullet">
                {% for work in works|sort(attribute='year,title') %}
                  <li class="grid-x grid-padding-x">
                    <span class="cell auto">{{ work.title }}</span>
                    <span class="cell shrink">
                      {% if work.year != 10000 %}
                        <a data-action="toggle-display" data-toggle-display="#book-metadata-{{ loop.index0 }}">
                          <svg viewBox="0 0 24 24" class="icon" aria-label="{% trans title=work.title %}See more details on {{ title }}{% endtrans %}">
                            <path d="M13.5,4A1.5,1.5 0 0,0 12,5.5A1.5,1.5 0 0,0 13.5,7A1.5,1.5 0 0,0 15,5.5A1.5,1.5 0 0,0 13.5,4M13.14,8.77C11.95,8.87 8.7,11.46 8.7,11.46C8.5,11.61 8.56,11.6 8.72,11.88C8.88,12.15 8.86,12.17 9.05,12.04C9.25,11.91 9.58,11.7 10.13,11.36C12.25,10 10.47,13.14 9.56,18.43C9.2,21.05 11.56,19.7 12.17,19.3C12.77,18.91 14.38,17.8 14.54,17.69C14.76,17.54 14.6,17.42 14.43,17.17C14.31,17 14.19,17.12 14.19,17.12C13.54,17.55 12.35,18.45 12.19,17.88C12,17.31 13.22,13.4  13.89,10.71C14,10.07 14.3,8.67 13.14,8.77Z" />
                          </svg>
                        </a>
                      {% endif %}
                    </span>
                    <div id="book-metadata-{{ loop.index0 }}" class="cell small-12 book-metadata hidden">
                      <dl class="grid-x grid-padding-x">
                        {% if work.year != 10000 %}
                          <dt class="cell small-12 medium-4">Published</dt>
                          <dd class="cell small-12 medium-8">{{ work.year }}</dd>
                        {% endif %}
                      </dl>
                    </div>
                    <div class="cell small-12 book-copies">
                      <ul class="no-bullet">
                        {% for copy in work.copies.values() %}
                          <li class="grid-x grid-padding-x">
                            <span class="cell auto">{{ copy.provider.label }}</span>
                            <span class="cell shrink">{{ macros.license_block(copy.license) }}</span>
                            <span class="cell shrink">
                              <a href="{{ copy.data.value }}" rel="noopener">
                                <svg viewBox="0 0 24 24" class="icon" aria-label="{% trans title=work.title, provider=copy.provider.label %}Download {{ title }} provided by  {{ provider }}{% endtrans %}">
                                  <path d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
                                </svg>
                              </a>
                              <a>
                                <svg viewBox="0 0 24 24" class="icon" aria-label="{% trans title=work.title, provider=copy.provider.label %}Read {{ title }} provided by  {{ provider }}{% endtrans %}">
                                  <path d="M19,2L14,6.5V17.5L19,13V2M6.5,5C4.55,5 2.45,5.4 1,6.5V21.16C1,21.41 1.25,21.66 1.5,21.66C1.6,21.66 1.65,21.59 1.75,21.59C3.1,20.94 5.05,20.5 6.5,20.5C8.45,20.5 10.55,20.9 12,22C13.35,21.15 15.8,20.5 17.5,20.5C19.15,20.5 20.85,20.81 22.25,21.56C22.35,21.61 22.4,21.59 22.5,21.59C22.75,21.59 23,21.34 23,21.09V6.5C22.4,6.05 21.75,5.75 21,5.5V7.5L21,13V19C19.9,18.65 18.7,18.5 17.5,18.5C15.8,18.5 13.35,19.15 12,20V13L12,8.5V6.5C10.55,5.4 8.45,5 6.5,5V5Z" />
                                </svg>
                              </a>
                            </span>
                          </li>
                        {% endfor %}
                      </ul>
                    </div>
                  </li>
                {% endfor %}
              </ol>
            </li>
          {% else %}
            {% if page.work|length > 0 %}
              <li>{% trans count=page.work|length %}The author's work has not been digitised.{% pluralize %}None of the author's {{ count }} works have been digitised.{% endtrans %}</li>
            {% endif %}
          {% endfor %}
        </ul>
      </section>
      {% if page.work|rejectattr('copies')|list|length > 0 %}
        <section>
          <h2>{% trans %}Undigitised Works{% endtrans %}</h2>
          <ul class="no-bullet">
            {% for category, works in page.work|rejectattr('copies')|groupby(attribute='category') %}
              <li><h3>{{ category }}</h3>
                <ol class="no-bullet">
                  {% for work in page.work|rejectattr('copies')|sort(attribute='title') %}
                    <li>{{ work.title }}</li>
                  {% endfor %}
                </ol>
              </li>
            {% endfor %}
          </ul>
        </section>
      {% endif %}
    </div>
    <div class="cell small-12 medium-4 medium-offset-1 large-5">
      <section class="grid-x grid-padding-x">
        <div class="cell small-12">
          <h2>{% trans %}Personal Information{% endtrans %}</h2>
        </div>
        {% for label, field, type in PERSON_METADATA %}
          {% if page[field] and page[field] %}
            <section class="cell small-6">
              <h3>{{ label }}</h3>
              <ul class="no-bullet">
                {% for value in page[field] %}
                  <li>{% if type == 'timestamp' %}{{ value.value|format_timestamp }}{% else %}{% if value.label %}{{ value.label }}{% else %}{{ value.value }}{% endif %}{% endif %}</li>
                {% endfor %}
              </ul>
            </section>
          {% endif %}
        {% endfor %}
      </section>
      {% if page.link %}
        <section class="grid-x grid-padding-x">
          <div class="cell small-12">
            <h2>{% trans %}Links{% endtrans %}</h2>
            <ul class="no-bullet">
              {% for link in page.link %}
                <li><a href="{{ link.value|escape }}" target="_blank" rel="noopener">{{ link.label }}</a></li>
              {% endfor %}
            </ul>
          </div>
        </section>
      {% endif %}
      <section class="grid-x grid-padding-x">
        <div class="cell small-12">
          <h2>{% trans %}Unique Identifiers{% endtrans %}</h2>
          <ul class="no-bullet">
          {% for label, field, baseurl in PERSON_LINK_CATEGORIES %}
            {% if page[field] %}
              {% for value in page[field] %}
                <li><a href="{{ baseurl|format(value['value']) }}" target="_blank" rel="noopener">{{ value['value'] }} ({{ label }})</a></li>
              {% endfor %}
            {% endif %}
          {% endfor %}
        </div>
      </section>
      <section>
        <h2 class="grid-x grid-padding-x">
          <span class="cell auto">{% trans %}Verification{% endtrans %}</span>
          <span class="cell shrink">
          {% if page.verification == 'full' %}
            <svg viewBox="0 0 24 24" class="icon success">
              <path d="M21,4H16V20H21V4M14,9H9V20H14V9M7,14H2V20H7V14Z" />
            </svg>
          {% elif page.verification == 'partial' %}
            <svg viewBox="0 0 24 24" class="icon warning">
              <path d="M19.5,5.5V18.5H17.5V5.5H19.5M21,4H16V20H21V4M14,9H9V20H14V9M7,14H2V20H7V14Z" />
            </svg>
          {% else %}
            <svg viewBox="0 0 24 24" class="icon alert">
              <path d="M19.5,5.5V18.5H17.5V5.5H19.5M12.5,10.5V18.5H10.5V10.5H12.5M21,4H16V20H21V4M14,9H9V20H14V9M7,14H2V20H7V14Z" />
            </svg>
          {% endif %}
        </h2>
        <div class="grid-x grid-padding-x">
          <div class="cell small-12">
            <p>
              {% if page.verification == 'full' %}
                {% trans %}All the information shown on this page have been manually verified. While this does not (and cannot) ensure that the information is always true, it is considered to be correct based on the currently available sources.{% endtrans %}
              {% elif page.verification == 'partial' %}
                {% trans %}Some of the information shown on this page has been manually verified.{% endtrans %}
              {% else %}
                {% trans %}None of the information on this page has been manually verified. This does not mean that it is not true, but its veracity is yet to be established.{% endtrans %}
              {% endif %}
            </p>
          </div>
        </div>
      </section>
    </div>
    <section class="cell small-12">
      <h2>{% trans %}Sources{% endtrans %}</h2>
      <ul class="no-bullet grid-x grid-padding-x">
        {% for source in page.sources.values() %}
          <li class="cell small-12 margin-bottom">
            <div class="label">{{ source.label }}</div>
            <div class="source"><a href="{{ source.url|escape }}" target="_blank" rel="noopener">{{ source.url }}</a></div>
            <div class="timestamp">
              <ul class="inline">
                {% for timestamp in source.timestamps %}
                  <li>{{ timestamp|format_timestamp }}</li>
                {% endfor %}
              </ul>
            </div>
          </li>
        {% endfor %}
      </ul>
    </section>
  </div>
</main>
{% endblock content %}

{% block content_old %}
<main class="person">
  <div class="grid-x grid-padding-x">
    <div class="cell auto">
      <h1>{{ page.title }}</h1>
    </div>
    <nav class="cell shrink">
      <ul class="menu">
        <li class="menu-text">
          {% if page.verification == 'full' %}
            <span title="{% trans %}The information on this page has been verified{% endtrans %}">
              <svg viewBox="0 0 24 24" class="icon success">
                <path d="M21,4H16V20H21V4M14,9H9V20H14V9M7,14H2V20H7V14Z" />
              </svg>
            </span>
          {% elif page.verification == 'partial' %}
            <span title="{% trans %}The information on this page has been verified partially{% endtrans %}">
              <svg viewBox="0 0 24 24" class="icon warning">
                <path d="M19.5,5.5V18.5H17.5V5.5H19.5M21,4H16V20H21V4M14,9H9V20H14V9M7,14H2V20H7V14Z" />
              </svg>
            </span>
          {% else %}
            <span title="{% trans %}The information on this page has not been verified{% endtrans %}">
              <svg viewBox="0 0 24 24" class="icon alert">
                <path d="M19.5,5.5V18.5H17.5V5.5H19.5M12.5,10.5V18.5H10.5V10.5H12.5M21,4H16V20H21V4M14,9H9V20H14V9M7,14H2V20H7V14Z" />
              </svg>
            </span>
          {% endif %}
        </li>
      </ul>
    </nav>
  </div>
  <div class="grid-x grid-padding-x">
    <div class="cell small-12 medium-8 large-7">
      <section>{{ page.content }}</section>
      {% if page.work %}
        <section>
          <h2>{% trans %}Works{% endtrans %}</h2>
          {% for work in page.work|sort(attribute='title') %}
            <section>
              <h3>{{ work.title }}</h3>
              <ul class="no-bullet">
                {% for copy in work.copies.values() %}
                  {% if copy.license %}
                    <li class="grid-x grid-padding-x">
                      <div class="cell shrink"><a href="{{ copy.provider.value }}" target="_blank" rel="noopener">{{ copy.provider.label }}</a></div>
                      <div class="cell auto"><a href="{{ copy.data.value }}" target="_blank" rel="noopener">{{ copy.data.value }}</a></div>
                      <div class="cell shrink license">
                        {% if copy.license_url %}
                          <a href="{{ copy.license_url.value }}" target="_blank" rel="noopener" title="{{ copy.license.value }}">
                        {% endif %}
                        {% if copy.license.value|startswith('cc-') %}
                          {% for cc_part in copy.license.value|split('-') %}
                            {% if cc_part == 'cc' %}
                              <svg viewBox="5.5 -3.5 64 64" class="icon">
                                <g>
                                  <circle cx="37.785" cy="28.501" r="28.836"/>
                                  <path d="M37.441-3.5c8.951,0,16.572,3.125,22.857,9.372c3.008,3.009,5.295,6.448,6.857,10.314
                                    c1.561,3.867,2.344,7.971,2.344,12.314c0,4.381-0.773,8.486-2.314,12.313c-1.543,3.828-3.82,7.21-6.828,10.143
                                    c-3.123,3.085-6.666,5.448-10.629,7.086c-3.961,1.638-8.057,2.457-12.285,2.457s-8.276-0.808-12.143-2.429
                                    c-3.866-1.618-7.333-3.961-10.4-7.027c-3.067-3.066-5.4-6.524-7-10.372S5.5,32.767,5.5,28.5c0-4.229,0.809-8.295,2.428-12.2
                                    c1.619-3.905,3.972-7.4,7.057-10.486C21.08-0.394,28.565-3.5,37.441-3.5z M37.557,2.272c-7.314,0-13.467,2.553-18.458,7.657
                                    c-2.515,2.553-4.448,5.419-5.8,8.6c-1.354,3.181-2.029,6.505-2.029,9.972c0,3.429,0.675,6.734,2.029,9.913
                                    c1.353,3.183,3.285,6.021,5.8,8.516c2.514,2.496,5.351,4.399,8.515,5.715c3.161,1.314,6.476,1.971,9.943,1.971
                                    c3.428,0,6.75-0.665,9.973-1.999c3.219-1.335,6.121-3.257,8.713-5.771c4.99-4.876,7.484-10.99,7.484-18.344
                                    c0-3.543-0.648-6.895-1.943-10.057c-1.293-3.162-3.18-5.98-5.654-8.458C50.984,4.844,44.795,2.272,37.557,2.272z M37.156,23.187
                                    l-4.287,2.229c-0.458-0.951-1.019-1.619-1.685-2c-0.667-0.38-1.286-0.571-1.858-0.571c-2.856,0-4.286,1.885-4.286,5.657
                                    c0,1.714,0.362,3.084,1.085,4.113c0.724,1.029,1.791,1.544,3.201,1.544c1.867,0,3.181-0.915,3.944-2.743l3.942,2
                                    c-0.838,1.563-2,2.791-3.486,3.686c-1.484,0.896-3.123,1.343-4.914,1.343c-2.857,0-5.163-0.875-6.915-2.629
                                    c-1.752-1.752-2.628-4.19-2.628-7.313c0-3.048,0.886-5.466,2.657-7.257c1.771-1.79,4.009-2.686,6.715-2.686
                                    C32.604,18.558,35.441,20.101,37.156,23.187z M55.613,23.187l-4.229,2.229c-0.457-0.951-1.02-1.619-1.686-2
                                    c-0.668-0.38-1.307-0.571-1.914-0.571c-2.857,0-4.287,1.885-4.287,5.657c0,1.714,0.363,3.084,1.086,4.113
                                    c0.723,1.029,1.789,1.544,3.201,1.544c1.865,0,3.18-0.915,3.941-2.743l4,2c-0.875,1.563-2.057,2.791-3.541,3.686
                                    c-1.486,0.896-3.105,1.343-4.857,1.343c-2.896,0-5.209-0.875-6.941-2.629c-1.736-1.752-2.602-4.19-2.602-7.313
                                    c0-3.048,0.885-5.466,2.658-7.257c1.77-1.79,4.008-2.686,6.713-2.686C51.117,18.558,53.938,20.101,55.613,23.187z"/>
                                </g>
                              </svg>
                            {% elif cc_part == 'by' %}
                              <svg viewBox="5.5 -3.5 64 64" class="icon">
                                <g>
                            	     <circle cx="37.637" cy="28.806" r="28.276"/>
                          		     <path d="M37.443-3.5c8.988,0,16.57,3.085,22.742,9.257C66.393,11.967,69.5,19.548,69.5,28.5c0,8.991-3.049,16.476-9.145,22.456
                          			     C53.879,57.319,46.242,60.5,37.443,60.5c-8.649,0-16.153-3.144-22.514-9.43C8.644,44.784,5.5,37.262,5.5,28.5
                          			     c0-8.761,3.144-16.342,9.429-22.742C21.101-0.415,28.604-3.5,37.443-3.5z M37.557,2.272c-7.276,0-13.428,2.553-18.457,7.657
                          			     c-5.22,5.334-7.829,11.525-7.829,18.572c0,7.086,2.59,13.22,7.77,18.398c5.181,5.182,11.352,7.771,18.514,7.771
                          			     c7.123,0,13.334-2.607,18.629-7.828c5.029-4.838,7.543-10.952,7.543-18.343c0-7.276-2.553-13.465-7.656-18.571
                          		       C50.967,4.824,44.795,2.272,37.557,2.272z M46.129,20.557v13.085h-3.656v15.542h-9.944V33.643h-3.656V20.557
                          			     c0-0.572,0.2-1.057,0.599-1.457c0.401-0.399,0.887-0.6,1.457-0.6h13.144c0.533,0,1.01,0.2,1.428,0.6
                          			     C45.918,19.5,46.129,19.986,46.129,20.557z M33.042,12.329c0-3.008,1.485-4.514,4.458-4.514s4.457,1.504,4.457,4.514
                          		       c0,2.971-1.486,4.457-4.457,4.457S33.042,15.3,33.042,12.329z"/>
                                </g>
                              </svg>
                            {% elif cc_part == 'nc' %}
                              <svg viewBox="5.5 -3.5 64 64" class="icon">
                                <g>
                                  <circle cx="37.47" cy="28.736" r="29.471"/>
                                  <path d="M37.442-3.5c8.99,0,16.571,3.085,22.743,9.256C66.393,11.928,69.5,19.509,69.5,28.5c0,8.992-3.048,16.476-9.145,22.458
                                    C53.88,57.32,46.241,60.5,37.442,60.5c-8.686,0-16.19-3.162-22.513-9.485C8.644,44.728,5.5,37.225,5.5,28.5
                                    c0-8.762,3.144-16.343,9.429-22.743C21.1-0.414,28.604-3.5,37.442-3.5z M12.7,19.872c-0.952,2.628-1.429,5.505-1.429,8.629
                                    c0,7.086,2.59,13.22,7.77,18.4c5.219,5.144,11.391,7.715,18.514,7.715c7.201,0,13.409-2.608,18.63-7.829
                                    c1.867-1.79,3.332-3.657,4.398-5.602l-12.056-5.371c-0.421,2.02-1.439,3.667-3.057,4.942c-1.622,1.276-3.535,2.011-5.744,2.2
                                    v4.915h-3.714v-4.915c-3.543-0.036-6.782-1.312-9.714-3.827l4.4-4.457c2.094,1.942,4.476,2.913,7.143,2.913
                                    c1.104,0,2.048-0.246,2.83-0.743c0.78-0.494,1.172-1.312,1.172-2.457c0-0.801-0.287-1.448-0.858-1.943l-3.085-1.315l-3.771-1.715
                                    l-5.086-2.229L12.7,19.872z M37.557,2.214c-7.276,0-13.428,2.571-18.457,7.714c-1.258,1.258-2.439,2.686-3.543,4.287L27.786,19.7
                                    c0.533-1.676,1.542-3.019,3.029-4.028c1.484-1.009,3.218-1.571,5.2-1.686V9.071h3.715v4.915c2.934,0.153,5.6,1.143,8,2.971
                                    l-4.172,4.286c-1.793-1.257-3.619-1.885-5.486-1.885c-0.991,0-1.876,0.191-2.656,0.571c-0.781,0.381-1.172,1.029-1.172,1.943
                                    c0,0.267,0.095,0.533,0.285,0.8l4.057,1.83l2.8,1.257l5.144,2.285l16.397,7.314c0.535-2.248,0.801-4.533,0.801-6.857
                                    c0-7.353-2.552-13.543-7.656-18.573C51.005,4.785,44.831,2.214,37.557,2.214z"/>
                                </g>
                              </svg>
                            {% elif cc_part == 'sa' %}
                              <svg viewBox="5.5 -3.5 64 64" class="icon">
                                <g>
                            	  <circle fill="#FFFFFF" cx="36.944" cy="28.631" r="29.105"/>
                            		<path d="M37.443-3.5c8.951,0,16.531,3.105,22.742,9.315C66.393,11.987,69.5,19.548,69.5,28.5c0,8.954-3.049,16.457-9.145,22.514
                            			C53.918,57.338,46.279,60.5,37.443,60.5c-8.649,0-16.153-3.143-22.514-9.429C8.644,44.786,5.5,37.264,5.5,28.501
                            			c0-8.723,3.144-16.285,9.429-22.685C21.138-0.395,28.643-3.5,37.443-3.5z M37.557,2.272c-7.276,0-13.428,2.572-18.457,7.715
                            			c-5.22,5.296-7.829,11.467-7.829,18.513c0,7.125,2.59,13.257,7.77,18.4c5.181,5.182,11.352,7.771,18.514,7.771
                            			c7.123,0,13.334-2.609,18.629-7.828c5.029-4.876,7.543-10.99,7.543-18.343c0-7.313-2.553-13.485-7.656-18.513
                            			C51.004,4.842,44.832,2.272,37.557,2.272z M23.271,23.985c0.609-3.924,2.189-6.962,4.742-9.114
                            			c2.552-2.152,5.656-3.228,9.314-3.228c5.027,0,9.029,1.62,12,4.856c2.971,3.238,4.457,7.391,4.457,12.457
                            			c0,4.915-1.543,9-4.627,12.256c-3.088,3.256-7.086,4.886-12.002,4.886c-3.619,0-6.743-1.085-9.371-3.257
                            			c-2.629-2.172-4.209-5.257-4.743-9.257H31.1c0.19,3.886,2.533,5.829,7.029,5.829c2.246,0,4.057-0.972,5.428-2.914
                            			c1.373-1.942,2.059-4.534,2.059-7.771c0-3.391-0.629-5.971-1.885-7.743c-1.258-1.771-3.066-2.657-5.43-2.657
                            			c-4.268,0-6.667,1.885-7.2,5.656h2.343l-6.342,6.343l-6.343-6.343L23.271,23.985L23.271,23.985z"/>
                                </g>
                              </svg>
                            {% elif cc_part in ['2.0', '3.0', '4.0'] %}
                              <svg viewBox="0 0 24 24" class="icon">
                                <g>
                                  <circle cx="12" cy="12" r="11" class="thick"/>
                                  <g transform="translate(-4 0)">
                                    {% if cc_part == '2.0' %}
                                      <path d="M9,7V9H13V11H11A2,2 0 0,0 9,13V17H11L15,17V15H11V13H13A2,2 0 0,0 15,11V9A2,2 0 0,0 13,7H9Z" />
                                    {% elif cc_part == '3.0' %}
                                      <path d="M15,15V13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 15,10.5V9C15,7.89 14.1,7 13,7H9V9H13V11H11V13H13V15H9V17H13A2,2 0 0,0 15,15" />
                                    {% elif cc_part == '4.0' %}
                                      <path d="M9,7V13H13V17H15V7H13V11H11V7H9Z" />
                                    {% endif %}
                                  </g>
                                  <circle cx="12" cy="16" r="1"/>
                                  <g transform="translate(4 0)">
                                    <path d="M11,7A2,2 0 0,0 9,9V15A2,2 0 0,0 11,17H13A2,2 0 0,0 15,15V9A2,2 0 0,0 13,7H11M11,9H13V15H11V9Z" />
                                  </g>
                                </g>
                              </svg>
                            {% elif cc_part in ['de'] %}
                            <svg viewBox="0 0 24 24" class="icon">
                              <g>
                                <circle cx="12" cy="12" r="11" class="thick"/>
                                <g transform="translate(-4 0)">
                                  <path d="M9,7V17H13A2,2 0 0,0 15,15V9A2,2 0 0,0 13,7H9M11,9H13V15H11V9Z" />
                                </g>
                                <g transform="translate(4 0)">
                                  <path d="M9,7V17H15V15H11V13H15V11H11V9H15V7H9Z" />
                                </g>
                              </g>
                            </svg>
                            {% else %}
                              {{ cc_part }}
                            {% endif %}
                          {% endfor %}
                        {% else %}
                          {{ copy.license.value }}
                        {% endif %}
                        {% if copy.license_url %}
                          </a>
                        {% endif %}
                      </div>
                    </li>
                  {% endif %}
                {% endfor %}
              </ul>
            </section>
          {% endfor %}
        </section>
      {% endif %}
      {% if page.link %}
        <section>
          <h2>{% trans %}Links{% endtrans %}</h2>
          <ul class="no-bullet grid-x grid-padding-x">
            {% for link in page.link %}
              <li class="cell small-6 medium-4 large-3"><a href="{{ link.value|escape }}" target="_blank" rel="noopener">{{ link.label }}</a></li>
            {% endfor %}
          </ul>
        </section>
      {% endif %}
      {% if page.sources %}
        <section class="sources">
          <h2>{% trans %}Sources{% endtrans %}</h2>
          <ul class="no-bullet grid-x grid-padding-x">
            {% for source in page.sources.values() %}
              <li class="cell small-12 margin-bottom">
                <div class="label">{{ source.label }}</div>
                <div class="source"><a href="{{ source.url|escape }}" target="_blank" rel="noopener">{{ source.url }}</a></div>
                <div class="timestamp">
                  <ul class="inline">
                    {% for timestamp in source.timestamps %}
                      <li>{{ timestamp|format_timestamp }}</li>
                    {% endfor %}
                  </ul>
                </div>
              </li>
            {% endfor %}
          </ul>
        </section>
      {% endif %}
    </div>
    <aside class="cell small-12 medium-4 large-5">
      <div class="grid-x grid-padding-x">
        <div class="cell small-12">
          <h2>{% trans %}Personal Information{% endtrans %}</h2>
        </div>
        {% for label, field, type in PERSON_METADATA %}
          {% if page[field] and page[field] %}
            <section class="cell small-12 large-6">
              <h3>{{ label }}</h3>
              <ul class="no-bullet">
                {% for value in page[field] %}
                  <li>{% if type == 'timestamp' %}{{ value.value|format_timestamp }}{% else %}{% if value.label %}{{ value.label }}{% else %}{{ value.value }}{% endif %}{% endif %}</li>
                {% endfor %}
              </ul>
            </section>
          {% endif %}
        {% endfor %}
      </div>
      <div class="grid-x grid-padding-x">
        <div class="cell small-12">
          <h2>{% trans %}Unique Identifiers{% endtrans %}</h2>
        </div>
        {% for label, field, baseurl in PERSON_LINK_CATEGORIES %}
          {% if page[field] %}
            <section class="cell small-12 large-6">
              <h3>{{ label }}</h3>
              <ul class="no-bullet">
                {% for value in page[field] %}
                  <li><a href="{{ baseurl|format(value['value']) }}" target="_blank" rel="noopener">{{ value['value'] }}</a></li>
                {% endfor %}
              </ul>
            </section>
          {% endif %}
        {% endfor %}
    </aside>
  </div>
</main>
{% endblock content_old %}
